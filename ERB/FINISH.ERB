@EVENTTURNEND
#PRI
;売却や助手化が可能になったか

SIF ABL:0+ABL:1 < 6
	RETURN 0
SIF ABL:3 < 3 && ABL:4 < 3 && ABL:5 < 3
	RETURN 0
SIF ABL:0 < 4 && (TALENT:11 || TALENT:12)
	RETURN 0
SIF ABL:1 < 4 && (TALENT:20 || TALENT:32 || TALENT:34)
	RETURN 0

S = 0
SIF (ABL:2 >= 3 && ABL:6 >= 3) || (ABL:7 >= 3 && ABL:10 >= 2) || ABL:8 >= 3 || (ABL:3+ABL:4+ABL:5 >= 10) || ABL:0 == 5 || ABL:1 == 5
	S = 1
SIF S == 0
	RETURN 0

PRINTFORML [0]調教を継続する
PRINTFORML [1]%NAME:TARGET%を売る

IF ABL:0 >= 3 && ABL:1 >= 3 && ABL:2 >= 3 && ABL:3 >= 3 && ABL:9 >= 3
	PRINTFORML [2]%NAME:TARGET%を助手にする
	A = 1
ENDIF

$INPUT_LOOP
INPUT

SIF RESULT < 0 || RESULT > 2
	GOTO INPUT_LOOP
SIF RESULT == 2 && A == 0
	GOTO INPUT_LOOP

SIF RESULT == 0
	RETURN 0

IF RESULT == 2
	IF ASSI >= 0
		T = TARGET
		TARGET = ASSI
		CALL SALE_CHARA
		DELCHARA ASSI
		ASSI = T-1
	ELSE
		ASSI = TARGET
	ENDIF

	;[狐]である
	IF TALENT:ASSI:93
		;技巧LV5、Ｃ感覚LV5で処女
		IF ABL:ASSI:2 == 5 && ABL:ASSI:3 == 5 && TALENT:ASSI:0
			DRAWLINE
			PRINTFORML %NAME:ASSI%は[妖狐]となった。
			DRAWLINE
			WAIT
			TALENT:ASSI:93 = 0
			TALENT:ASSI:90 = 1
		ENDIF
	;[不思議な根]である
	ELSEIF TALENT:ASSI:120
		;Ｃ感覚LV5、精液中毒LV3以上
		IF ABL:ASSI:3 == 5 && ABL:ASSI:11 >= 3
			DRAWLINE
			PRINTFORML %NAME:ASSI%は[ふたなり]となった。
			DRAWLINE
			WAIT
			TALENT:ASSI:120 = 0
			TALENT:ASSI:121 = 1
		ENDIF
	ENDIF

	ISASSI:ASSI = 1
	TARGET = -1

	RETURN 0
ELSE
	T = -1
	CALL SALE_CHARA
	DELCHARA TARGET
	TARGET = -1
ENDIF

@SALE_CHARA
;売却の計算
S = 0

V = 0
;ABL:従順をみる
IF ABL:0 == 0
	V += 0
ELSEIF ABL:0 == 1
	V += 200
ELSEIF ABL:0 == 2
	V += 500
ELSEIF ABL:0 == 3
	V += 850
ELSEIF ABL:0 == 4
	V += 1500
ELSE
	V += 2500
ENDIF
SIF V > 0
	PRINTFORML %ABLNAME:0%{ABL:0}LV +{V}
S += V

V = 0
;ABL:欲望をみる
IF ABL:1 == 0
	V += 0
ELSEIF ABL:1 == 1
	V += 100
ELSEIF ABL:1 == 2
	V += 300
ELSEIF ABL:1 == 3
	V += 700
ELSEIF ABL:1 == 4
	V += 1200
ELSE
	V += 2000
ENDIF
SIF V > 0
	PRINTFORML %ABLNAME:1%{ABL:1}LV +{V}
S += V

V = 0
;ABL:技巧をみる
IF ABL:2 == 0
	V += 0
ELSEIF ABL:2 == 1
	V += 100
ELSEIF ABL:2 == 2
	V += 200
ELSEIF ABL:2 == 3
	V += 400
ELSEIF ABL:2 == 4
	V += 700
ELSE
	V += 1600
ENDIF
SIF V > 0
	PRINTFORML %ABLNAME:2%{ABL:2}LV +{V}
S += V

V = 0
;ABL:自慰中毒をみる
IF ABL:10 == 0
	V += 0
ELSEIF ABL:10 == 1
	V += 250
ELSEIF ABL:10 == 2
	V += 500
ELSEIF ABL:10 == 3
	V += 750
ELSEIF ABL:10 == 4
	V += 1000
ELSE
	V += 1300
ENDIF
SIF V > 0
	PRINTFORML %ABLNAME:10%{ABL:10}LV +{V}
S += V


V = 0
;ABL:精液中毒をみる
IF ABL:11 == 0
	V += 0
ELSEIF ABL:11 == 1
	V += 300
ELSEIF ABL:11 == 2
	V += 600
ELSEIF ABL:11 == 3
	V += 900
ELSEIF ABL:11 == 4
	V += 1300
ELSE
	V += 1700
ENDIF
SIF V > 0
	PRINTFORML %ABLNAME:11%{ABL:11}LV +{V}
S += V


V = 0
;ABL:精液中毒をみる
IF ABL:12 == 0
	V += 0
ELSEIF ABL:12 == 1
	V += 250
ELSEIF ABL:12 == 2
	V += 500
ELSEIF ABL:12 == 3
	V += 750
ELSEIF ABL:12 == 4
	V += 1000
ELSE
	V += 1300
ENDIF
SIF V > 0
	PRINTFORML %ABLNAME:12%{ABL:12}LV +{V}
S += V


V = 100
;ABL:Ｃ感覚をみる
IF ABL:3 == 4
	V = 110
	TIMES S , 1.10
ELSEIF ABL:3 == 5
	V = 120
	TIMES S , 1.20
ENDIF
SIF V != 100
	PRINTFORML %ABLNAME:3%{ABL:3}LV ×{V/100}.{V%100}

V = 100
;ABL:Ｖ感覚をみる
IF ABL:4 == 3
	V = 110
	TIMES S , 1.10
ELSEIF ABL:4 == 4
	V = 120
	TIMES S , 1.20
ELSEIF ABL:4 == 5
	V = 140
	TIMES S , 1.40
ENDIF
SIF V != 100
	PRINTFORML %ABLNAME:4%{ABL:4}LV ×{V/100}.{V%100}

V = 100
;ABL:Ａ感覚をみる
IF ABL:5 == 2
	V = 110
	TIMES S , 1.10
ELSEIF ABL:5 == 3
	V = 120
	TIMES S , 1.20
ELSEIF ABL:5 == 4
	V = 140
	TIMES S , 1.40
ELSEIF ABL:4 == 5
	V = 160
	TIMES S , 1.60
ENDIF
SIF V != 100
	PRINTFORML %ABLNAME:5%{ABL:5}LV ×{V/100}.{V%100}

V = 100
;ABL:奉仕精神をみる
IF ABL:6 == 3
	V = 110
	TIMES S , 1.10
ELSEIF ABL:6 == 4
	V = 130
	TIMES S , 1.30
ELSEIF ABL:6 == 5
	V = 150
	TIMES S , 1.50
ENDIF
SIF V != 100
	PRINTFORML %ABLNAME:6%{ABL:6}LV ×{V/100}.{V%100}

V = 100
;ABL:露出癖をみる
IF ABL:7 == 3
	V = 110
	TIMES S , 1.10
ELSEIF ABL:7 == 4
	V = 130
	TIMES S , 1.30
ELSEIF ABL:7 == 5
	V = 150
	TIMES S , 1.50
ENDIF
SIF V != 100
	PRINTFORML %ABLNAME:7%{ABL:7}LV ×{V/100}.{V%100}

V = 100
;ABL:マゾっ気をみる
IF ABL:8 == 1
	V = 110
	TIMES S , 1.10
ELSEIF ABL:8 == 2
	V = 130
	TIMES S , 1.30
ELSEIF ABL:8 == 3
	V = 150
	TIMES S , 1.50
ELSEIF ABL:8 == 4
	V = 200
	TIMES S , 2.00
ELSEIF ABL:8 == 5
	V = 250
	TIMES S , 2.50
ENDIF
SIF V != 100
	PRINTFORML %ABLNAME:8%{ABL:8}LV ×{V/100}.{V%100}

V = 100
;ABL:レズっ気をみる
IF ABL:9 == 3
	V = 110
	TIMES S , 1.10
ELSEIF ABL:9 == 4
	V = 130
	TIMES S , 1.30
ELSEIF ABL:9 == 5
	V = 150
	TIMES S , 1.50
ENDIF
SIF V != 100
	PRINTFORML %ABLNAME:9%{ABL:9}LV ×{V/100}.{V%100}

V = 100
;ABL:BLをみる
IF ABL:13 == 3
	V = 110
	TIMES S , 1.10
ELSEIF ABL:13 == 4
	V = 130
	TIMES S , 1.30
ELSEIF ABL:13 == 5
	V = 150
	TIMES S , 1.50
ENDIF
SIF V != 100
	PRINTFORML %ABLNAME:13%{ABL:13}LV ×{V/100}.{V%100}

V = 100
;TALENT:処女をみる
IF TALENT:0
	V = 200
	TIMES S , 2.00
ENDIF
SIF V != 100
	PRINTFORML %TALENTNAME:0% ×{V/100}.{V%100}

V = 100
;TALENT:気丈をみる
IF TALENT:12 && ABL:0 > 2
	V = 120
	TIMES S , 1.20
ENDIF
SIF V != 100
	PRINTFORML %TALENTNAME:12% ×{V/100}.{V%100}

V = 100
;TALENT:自尊心をみる
IF TALENT:15 && ABL:0 > 2
	V = 120
	TIMES S , 1.20
ENDIF
SIF V != 100
	PRINTFORML %TALENTNAME:15% ×{V/100}.{V%100}

V = 100
;TALENT:自制心をみる
IF TALENT:20 && ABL:1 < 4
	V = 80
	TIMES S , 0.80
ENDIF
SIF V != 100
	PRINTFORML %TALENTNAME:20% ×{V/100}.{V%100}

V = 100
;TALENT:無関心をみる
IF TALENT:21 && ABL:1 < 4
	V = 80
	TIMES S , 0.80
ENDIF
SIF V != 100
	PRINTFORML %TALENTNAME:21% ×{V/100}.{V%100}

V = 100
;TALENT:感情乏しいをみる
IF TALENT:22 && ABL:1 < 4
	V = 80
	TIMES S , 0.80
ENDIF
SIF V != 100
	PRINTFORML %TALENTNAME:22% ×{V/100}.{V%100}

V = 100
;TALENT:保守的をみる
IF TALENT:24 && ABL:1 < 4
	IF ASSI < 0
		V = 50
		TIMES S , 0.50
	ELSEIF RELATION:ASSI >= 200
		V = 100
		TIMES S , 1.00
	ELSE
		V = 50
		TIMES S , 0.50
	ENDIF
ENDIF
SIF V != 100
	PRINTFORML %TALENTNAME:24% ×{V/100}.{V%100}

V = 100
;TALENT:一線越えないをみる
IF TALENT:27 && ABL:0 < 4
	V = 80
	TIMES S , 0.80
ENDIF
SIF V != 100
	PRINTFORML %TALENTNAME:27% ×{V/100}.{V%100}

V = 100
;TALENT:解放をみる
IF TALENT:33
	V = 120
	TIMES S , 1.20
ENDIF
SIF V != 100
	PRINTFORML %TALENTNAME:33% ×{V/100}.{V%100}

V = 100
;TALENT:濡れやすいをみる
IF TALENT:42
	V = 120
	TIMES S , 1.20
ENDIF
SIF V != 100
	PRINTFORML %TALENTNAME:42% ×{V/100}.{V%100}

V = 100
;TALENT:快感に素直をみる
IF TALENT:70 && ABL:1 > 2
	V = 120
	TIMES S , 1.20
ENDIF
SIF V != 100
	PRINTFORML %TALENTNAME:70% ×{V/100}.{V%100}

V = 100
;TALENT:快感の否定をみる
IF TALENT:71 && ABL:1 < 4
	V = 60
	TIMES S , 0.60
ENDIF
SIF V != 100
	PRINTFORML %TALENTNAME:71% ×{V/100}.{V%100}

V = 100
;TALENT:即落ちをみる
IF TALENT:73
	V = 80
	TIMES S , 0.80
ENDIF
SIF V != 100
	PRINTFORML %TALENTNAME:73% ×{V/100}.{V%100}

V = 100
;TALENT:倒錯的をみる
IF TALENT:80 && ABL:1 > 2
	V = 120
	TIMES S , 1.20
ENDIF
SIF V != 100
	PRINTFORML %TALENTNAME:80% ×{V/100}.{V%100}

V = 100
;TALENT:謎の魅力をみる
IF TALENT:92
	V = 400
	TIMES S , 4.00
ENDIF
SIF V != 100
	PRINTFORML %TALENTNAME:92% ×{V/100}.{V%100}

V = 100
;TALENT:Ｃ鈍感をみる
IF TALENT:101 && ABL:3 < 4
	V = 80
	TIMES S , 0.80
ENDIF
SIF V != 100
	PRINTFORML %TALENTNAME:101% ×{V/100}.{V%100}

V = 100
;TALENT:Ｃ敏感をみる
IF TALENT:102 && ABL:3 > 2
	V = 110
	TIMES S , 1.10
ENDIF
SIF V != 100
	PRINTFORML %TALENTNAME:102% ×{V/100}.{V%100}

V = 100
;TALENT:Ｖ鈍感をみる
IF TALENT:103 && ABL:4 < 4
	V = 80
	TIMES S , 0.80
ENDIF
SIF V != 100
	PRINTFORML %TALENTNAME:103% ×{V/100}.{V%100}

V = 100
;TALENT:Ｖ敏感をみる
IF TALENT:104 && ABL:4 > 2
	V = 120
	TIMES S , 1.20
ENDIF
SIF V != 100
	PRINTFORML %TALENTNAME:104% ×{V/100}.{V%100}

V = 100
;TALENT:Ａ鈍感をみる
IF TALENT:105 && ABL:5 < 4
	V = 90
	TIMES S , 0.90
ENDIF
SIF V != 100
	PRINTFORML %TALENTNAME:105% ×{V/100}.{V%100}

V = 100
;TALENT:Ａ敏感をみる
IF TALENT:106 && ABL:5 > 2
	V = 130
	TIMES S , 1.30
ENDIF
SIF V != 100
	PRINTFORML %TALENTNAME:106% ×{V/100}.{V%100}

V = 100
;TALENT:巨乳をみる
IF TALENT:110
	V = 150
	TIMES S , 1.50
ENDIF
SIF V != 100
	PRINTFORML %TALENTNAME:110% ×{V/100}.{V%100}

V = 100
;TALENT:回復早いをみる
IF TALENT:111
	V = 120
	TIMES S , 1.20
ENDIF
SIF V != 100
	PRINTFORML %TALENTNAME:111% ×{V/100}.{V%100}

V = 100
;TALENT:魅力をみる
IF TALENT:113
	V = 150
	TIMES S , 1.50
ENDIF
SIF V != 100
	PRINTFORML %TALENTNAME:113% ×{V/100}.{V%100}

V = 100
;TALENT:ふたなりをみる
IF TALENT:121
	V = 200
	TIMES S , 2.00
ENDIF
SIF V != 100
	PRINTFORML %TALENTNAME:121% ×{V/100}.{V%100}

V = 100
;TALENT:オトコをみる
;TALENT:魅力なら大丈夫
IF TALENT:122 && TALENT:113 == 0
	IF ABL:0 < 2 || ABL:1 < 2 || ABL:13 < 1
		V = 20
		TIMES S , 0.20
	ELSEIF ABL:0 < 3 || ABL:1 < 3 || ABL:13 < 2
		V = 40
		TIMES S , 0.40
	ELSEIF ABL:0 < 4 || ABL:1 < 4 || ABL:13 < 3
		V = 70
		TIMES S , 0.70
	ENDIF
ENDIF
SIF V != 100
	PRINTFORML %TALENTNAME:122% ×{V/100}.{V%100}

;助手を売る
IF T != -1
	S /= 2
	PRINTFORML 元助手 ×0.50
ENDIF

PRINTFORMW 結果、%NAME:TARGET%は${S}で売れました。
MONEY += S


